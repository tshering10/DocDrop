{% extends "files/base.html" %}
{% load widget_tweaks %}
{% block title %}Change Password{% endblock title %}
{% block content %}
<div class="max-w-3xl mx-auto mt-12 p-6 bg-gray-800 rounded-lg shadow-lg text-gray-300">
    <h2 class="text-2xl font-semibold mb-6 text-center">Change Password</h2>

    {% if form.non_field_errors %}
        <div class="text-red-500 text-sm mb-4">
            {% for error in form.non_field_errors %}
            <p>{{ error }}</p>
            {% endfor %}
        </div>
    {% endif %}

    <form action="{% url 'account_change_password' %}" method="POST" class="max-w-md mx-auto">
        {% csrf_token %}
        {{ form.non_field_errors }}

        <!--Old Password-->
        <div class="mb-3">
            <label for="{{ form.oldpassword.id_for_label }}" class="block text-base font-medium mb-1">
                Old Password
            </label>
            {{ form.oldpassword|add_class:"w-full px-3 py-2 rounded-md bg-gray-700 border border-gray-600 text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500" }}
           
            {% if form.oldpassword.errors %}
                <p class="text-red-500 text-sm">
                    {{ form.oldpassword.errors.0 }}
                </p>
            {% endif %}
        </div>
        
        <!--New Password-->
        <div class="mb-3">
            <label for="{{ form.password1.id_for_label }}" class="block text-base font-medium mb-1">
                New Password
            </label>
            {{ form.password1|add_class:"w-full px-3 py-2 rounded-md bg-gray-700 border border-gray-600 text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500" }}
            
            {% if form.password1.errors %}
                <p class="text-red-500 text-sm">
                    {{ form.password1.errors.0 }}
                </p>
            {% endif %}
        </div>


        <!--Confirm New Password-->
        <div class="mb-3">
            <label for="{{ form.password2.id_for_label }}" class="block text-base font-medium mb-1">
                Confirm Password
            </label>
            {{ form.password2|add_class:"w-full px-3 py-2 rounded-md bg-gray-700 border border-gray-600 text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500" }}
            
            {% if form.password2.errors %}
                <p class="text-red-500 text-sm">
                    {{ form.password2.errors.0 }}
                </p>
            {% endif %}
        </div>

        <div class="flex flex-col sm:flex-row justify-between items-center pt-4 ">
            <button type="submit" class="px-6 py-2 bg-blue-600 hover:bg-blue-700 rounded-md text-white font-medium">
                Change Password
            </button>
            <a href="{% url 'account_reset_password' %}" class="text-gray-300 text-base hover:text-blue-500 hover:underline">
                Forgot Password?    
            </a>
        </div>
    </form>
</div>
{% endblock content %}